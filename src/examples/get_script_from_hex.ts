import * as btc from "bitcoinjs-lib"

const main = async () => {
    const scriptHex = "2103f8cd1e3bc96a4bda589dfebf67397e8d5413623dc4f5743298e20792e78caa33ac6303e5ec116700687c2102f0a4fd5299322d99279ceb95ceec12d7807ae6fd009e350a34c5c0044448562bac630325cd0e93687c210333133305671d936ea737e80f39d62aa1eed159c77a8c2efe6bffa032a7195dc2ac6303fa940893687c2103ad7e43d72661b1d9234fce42cc7f0a79bcf42b7e4e39e7f4d227de11fced69abac6303d0fa0693687c2103126522ef0dfa543b3097a74d23b3f9e8de7bb31bd02d833050a341d5a6086139ac6303b8680693687c210269efe3541f938a1e8e759b03e86ca0f995fced28ee076e88b396190093834f83ac6303ce610693687c2103f1328d145b98e0fdc814a7820d6a90d7d47f14445ff8693e9061b217b427bb4bac630377340593687c2102902d0e76a94201d4bed3dbf5e233eb6ad94dcaa6d69ee4665c736ab9421fba88ac630315ac0493687c21031e1f44ef95e582f727a29e318160dbb468df566ab55b2549bb8d570b1414fd28ac6303b8520493687c2102275211cbb6820da2268c2083d10553b350f7977a11cee7dc5f53dfc4f9f0b3aeac63038da60393687c21025c2a8e5368369a0b56d5d522b40f822e58966917a36ab73a46b9e0a5a122c6f9ac6303415e0393687c2103100e355b6d064e6d608fa8a6abd17e3bedc1498fb569b62a04b4d897d0a74b6eac6303234f0393687c210249c893574b02aab8f273df0bcc0b524634ec1811576c6e1f61e2527f9d8835ddac63039f290393687c210394157139902ea6929069280a7fdbc82fee003801e8e818494c5fce23d340a557ac6303c50f0393687c2103a5cd2a017b57002f1f91f44a65d40ac2761e3978b0563b1adb4d780ff6935240ac6303a3fb0293687c21030c075275a90ec9e214a4700816c94c94c470f7707cf34c2dd78bc0d870941878ac6303e4c80293687c21034af380a1962705a6c829f039386d8b600691cced67780072ff22951ab6e29732ac63037bc80293687c2102294e8a80e2e3f58d32a8d074f0a37679553d45db42975df6eca2d853bdfa1a2fac63037fc70293687c2102fb69dfafbeb36a5c50de86b3fcbb24945540eccef2da3414ecc72f02047e2b70ac63036cb90293687c2103f9981616d2e06a7182bc70be5f40f0e0e685974e3a8b0606dbf7e8b2d4821e24ac6303c9b402936803226548a0010075"
    // let script = btc.script.fromASM("210239ae31f800341233c6ce58347b52fc06b413f60e7cca5178cfc4bf12fd5301eaac6303cc5e116700687c2103a1298684925accf0eaac4544d31de59dddd34073e1bfc961a71ea5bd62faf994ac630350d10a93687c2102ffcb08c65ca5e019b2e2b6ad01065e258373b1faf1d56f7fd3956a5070e73d77ac6303433f0893687c2103be93efc57989c4a49a58e1928381ead97e46d5add86947b30e42ad9007a6c328ac63038eb70793687c2103727579bf67052e1ef56732bf74f4b14f5f0a72b90b57ac333c353bc4b26142c6ac630359290693687c210348ba3233d9c3997dd28e2dbac6cce8e13c3bf8b468b3c5a3561a4567b2662ff3ac630382e00593687c210332fedcdb5d72f6139c0f788ec6219c84187c22ebd759f7214a41dec4a60b2330ac630348de0593687c2103f9b5a31a5c9d41638de91a511b8917d9a13a8841e386d3fee578b0f3fbc4c7c7ac6303b4730493687c2102befbb3db81a97db4cf4e4b32733763fc8b84781336f89e644a33cab850289b11ac63033d360493687c21022a78c72f57d357729d3a9b01d9026b70301df3349496f9f18d0ff7ba9d1094bdac630374a80393687c2102cabd85fc51b821f7230f4c51887238f1840115f1c810fdc88004cd1b202cc055ac63037a270393687c21036ddf5aaee126f066eefd3471dabceee5ee25b355c0597bd97a7d8c692e490a22ac63036e250393687c210268f9aa015f32941af556dd462bd201dce5fb3375d010c78fe57a74b8780003a3ac6303fa210393687c21035ffadde8fc49b80c06840ba542f6b358bd88213d2cf4f5b201f205cdd663ba32ac630377060393687c2103bca061bf2d51a522189b93ad721872fc4aea4e93e9168290c516ad3f02c430f6ac6303bcd20293687c2103849d39f0a00bfe3941d4b1462fda2ad46ddc32aef95d0ff5bb96ec37b6753421ac630357910293687c21028a73e5a98d97731f186599e18d45ee5a279a5e57078466607bff5069ece376aeac63034d850293687c21029e19995c0a8263decc12c6e25f6faca783f8bcd073fe3f51f07b872628cb7eacac630385790293687c21023264e61e8d1ed3fd67d49c6109964bb16ade90993cceb938e2eec0a5d1af590aac6303b3740293687c2102d38a0404b4e9a87f580b1cfaaec0825e2e5ca091336e2032d80bcce04c65d47aac6303565d02936803d70744a0010075")
    const script = Buffer.from(scriptHex, 'hex');
    let data = btc.payments.p2wsh({
        redeem: { output: script, redeemVersion: 0 },
        network: btc.networks.bitcoin,
    })
    console.log(data.address)
}

main();